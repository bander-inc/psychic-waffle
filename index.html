<html>
  <head>
    <title>P S Y C H I C &nbsp; W A F F L E </title>
  </head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.8.0/pixi.min.js"></script>
  <script src="src/pixi-projection.js"></script>
  <body>

    <script type="text/javascript">
     //Create a Pixi Application
    var app = new PIXI.Application(800, 600, {backgroundColor: 0x1099bb});

    //Add the canvas
    document.body.appendChild(app.view);
      
      
      function createSquare(x, y) {
    var square = new PIXI.Sprite(PIXI.Texture.WHITE);
    square.tint = 0xff0000;
    square.factor = 1;
    square.anchor.set(0.5);
    square.position.set(x, y);
    return square;
}

var squares = [
    createSquare(0, 0),
    createSquare(64, 64),
    createSquare(64, 128),
    createSquare(0, 192)
];

var quad = squares.map(function(s) { return s.position });

//add sprite itself
var containerSprite = new PIXI.projection.Sprite2s(new PIXI.Texture.fromImage("stonetiles_003_diff.jpg"));
containerSprite.anchor.set(0.5);

app.stage.addChild(containerSprite);
squares.forEach(function(s) { app.stage.addChild(s); });

     var message = new PIXI.Text("I have no idea what I'm doing...");
     message.x = 128;
     message.y = 128;
     app.stage.addChild(message);

      // Listen for animate update
app.ticker.add(function (delta) {
    containerSprite.proj.mapBilinearSprite(containerSprite, quad);
});
      
  </script>
  </body>
</html>
